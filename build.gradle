buildscript {
    repositories {
        jcenter()
        maven {
            url = "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath "gradle.plugin.org.spongepowered:spongegradle:0.8.1"
    }
}

apply plugin: "org.spongepowered.plugin"

version = "0.0.1"
group = "misterL2"
archivesBaseName = "sfutilities"

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.spongepowered:spongeapi:7.1.0-SNAPSHOT'
    compile group: 'c3p0', name: 'c3p0', version: '0.9.1.2' // https://mvnrepository.com/artifact/c3p0/c3p0

}

processResources {
    // this will ensure that this task is redone when the versions change.
    inputs.property "version", project.version

    // copy everything else, thats not the mcmod.info
    from(sourceSets.main.resources.srcDirs) {
        exclude "mcmod.info"
    }
}

jar {
    manifest {
        attributes(
                'Main-Class': 'misterl2.sfutilities.SFUtilities'
        )
    }
    from {
        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
}